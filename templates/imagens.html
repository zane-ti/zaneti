<!doctype html>
<html lang="pt-BR">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Imagens - Zane.TI</title><link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"></head>
<body>
<header class="site-header"><div class="wrap"><img src="{{ url_for('static', filename='img/logo.png') }}" id="logo"><nav><a href='/'>&larr; Início</a></nav></div></header>
<main class="container">
  <h1>Geração de Imagens (demo)</h1>
  <div class="card">
    <input id="prompt" placeholder="Descrição da imagem...">
    <button id="gen" class="btn">Gerar</button>
    <div id="result"></div>
  </div>
</main>
<script>
document.getElementById('gen').addEventListener('click', async ()=>{
  const prompt = document.getElementById('prompt').value;
  const res = await fetch('/api/imagem',{method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({prompt})});
  const j = await res.json();
  const box = document.getElementById('result');
  box.innerHTML='';
  if(j.error){ box.innerText = 'Erro: '+j.error; return; }
  const img = document.createElement('img'); img.src = j.url; img.style.maxWidth='100%'; box.appendChild(img);
});
</script>
</body>
</html>
