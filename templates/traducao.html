<!doctype html>
<html lang="pt-BR">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Tradução - Zane.TI</title><link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"></head>
<body>
<header class="site-header"><div class="wrap"><img src="{{ url_for('static', filename='img/logo.png') }}" id="logo"><nav><a href='/'>&larr; Início</a></nav></div></header>
<main class="container">
  <h1>Tradução (demo)</h1>
  <div class="card">
    <textarea id="text" rows="4" placeholder="Texto para traduzir"></textarea>
    <input id="lang" placeholder="Idioma destino (ex: EN, PT)">
    <button id="tr" class="btn">Traduzir</button>
    <pre id="out" class="reply"></pre>
  </div>
</main>
<script>
document.getElementById('tr').addEventListener('click', async ()=>{
  const text = document.getElementById('text').value;
  const lang = document.getElementById('lang').value || 'EN';
  const res = await fetch('/api/traduzir',{method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({text, targetLang: lang})});
  const j = await res.json();
  document.getElementById('out').innerText = j.error ? ('Erro: '+j.error) : j.translated;
});
</script>
</body>
</html>
